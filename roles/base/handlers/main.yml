---
- name: Reload systemd daemon
  become: true
  ansible.builtin.systemd:
    daemon_reload: true

- name: Enable and restart sshd.service
  become: true
  ansible.builtin.systemd:
    name: sshd.service
    state: restarted
    enabled: true

- name: Change 'EDITOR' variable in environment file
  become: true
  ansible.builtin.lineinfile:
    path: /etc/environment
    regexp: '^EDITOR='
    line: 'EDITOR="/usr/bin/micro"'
    backup: true

- name: Create alias if 'bat' cli is installed
  when: ansible_os_family == 'Debian'
  ansible.builtin.lineinfile:
    path: "{{ ansible_user_dir }}/.bashrc"
    regexp: '^alias bat='
    line: 'alias bat="batcat"'
    backup: true
